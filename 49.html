<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zenith - ‡∏£‡πâ‡∏≤‡∏ô‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
  <style>
    :root {
      --accent: #222;
      --bg: #fafafa;
    }
    * { box-sizing: border-box; }
    body {
      font-family: "Prompt", sans-serif;
      background: var(--bg);
      margin: 0;
      color: #111;
    }
    header {
      background: var(--accent);
      color: white;
      padding: 10px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header .brand { font-size: 20px; font-weight: bold; }
    header .user {
      display: flex; align-items: center; gap: 10px;
    }
    header button {
      padding: 6px 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    header button.cart {
      background: white;
      color: var(--accent);
      font-weight: bold;
    }
    header button.login {
      background: #444;
      color: white;
    }
    nav {
      background: white;
      padding: 8px;
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
      border-bottom: 1px solid #ddd;
    }
    nav button {
      border: 1px solid #ccc;
      border-radius: 6px;
      background: white;
      padding: 8px 12px;
      cursor: pointer;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 10px;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
      gap: 15px;
    }
    .product {
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }
    .product img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
    }
    .product button {
      background: var(--accent);
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
    }
    #cartPanel {
      position: fixed;
      right: 15px;
      top: 70px;
      width: 340px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      padding: 15px;
      display: none;
      max-height: 80vh;
      overflow-y: auto;
      z-index: 2000;
    }
    #cartPanel h3 {
      margin-top: 0;
    }
    #cartItems li {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }
    #cartItems {
      list-style: none;
      padding: 0;
    }
    #modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }
    .modal-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 320px;
    }
    .modal-content input {
      width: 100%;
      padding: 8px;
      margin: 8px 0;
    }
    .qr {
      width: 200px;
      height: 200px;
      margin: 10px auto;
      display: block;
      object-fit: contain;
    }
  </style>
</head>
<body>

<header>
  <div class="brand">üëó Zenith</div>
  <div class="user">
    <button class="cart" onclick="toggleCart()">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id='cartCount'>0</span>)</button>
    <span id="usernameDisplay"></span>
    <button class="login" onclick="openModal()">‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô / ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
  </div>
</header>

<nav>
  <button onclick="showCategory('all')">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
  <button onclick="showCategory('shirt')">‡πÄ‡∏™‡∏∑‡πâ‡∏≠</button>
  <button onclick="showCategory('pants')">‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á</button>
  <button onclick="showCategory('bag')">‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤</button>
  <button onclick="showCategory('accessory')">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö</button>
  <button onclick="showCategory('shoes')">‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤</button>
</nav>

<div class="container">
  <div class="products" id="productGrid"></div>
</div>

<!-- Cart -->
<div id="cartPanel">
  <h3>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
  <ul id="cartItems"></ul>
  <div>
    <label>üì¶ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
    <textarea id="address" rows="3" style="width:100%;"></textarea>
  </div>
  <div>
    <label>üí≥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
    <select id="payment">
      <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</option>
      <option value="cod">‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á</option>
      <option value="promptpay">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏û‡∏¢‡πå (QR)</option>
      <option value="mobile">Mobile Banking</option>
    </select>
  </div>
  <div id="extra"></div>
  <button style="margin-top:10px;width:100%;padding:10px;background:#222;color:white;border:none;border-radius:8px;" onclick="checkout()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

<!-- Modal -->
<div id="modal">
  <div class="modal-content">
    <h3 id="modalTitle">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h3>
    <input type="text" id="user" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ" />
    <input type="password" id="pass" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" />
    <button onclick="login()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    <button onclick="register()">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
  </div>
</div>

<script>
const products = [
  {id:1, cat:'shirt', name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡πâ‡∏ï‡∏ú‡∏π‡πâ‡∏ä‡∏≤‡∏¢', price:290, img:'https://i.ibb.co/Cp3sbQnp/image.jpg'},
  {id:2, cat:'pants', name:'‡∏Å‡∏≤‡∏á‡πÄ‡∏Å‡∏á‡∏¢‡∏µ‡∏ô‡∏™‡πå', price:590, img:'https://i.ibb.co/NdNhZJ1C/image.jpg'},
  {id:3, cat:'bag', name:'‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô', price:350, img:'https://i.ibb.co/Dg5yV851/image.jpg'},
  {id:4, cat:'accessory', name:'‡∏™‡∏£‡πâ‡∏≠‡∏¢‡∏Ñ‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', price:150, img:'https://i.ibb.co/7NXXVvr3/image.jpg'},
  {id:5, cat:'shoes', name:'‡∏£‡∏≠‡∏á‡πÄ‡∏ó‡πâ‡∏≤‡∏ú‡πâ‡∏≤‡πÉ‡∏ö', price:490, img:'https://i.ibb.co/MyTcfRKp/image.jpg'},
  {id:6, cat:'shirt', name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏•‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà', price:380, img:'https://i.ibb.co/qbjxwBv/2.jpg'} // ‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°
];

let cart = JSON.parse(localStorage.getItem('cart')||'[]');
let user = localStorage.getItem('user')||'';

function renderProducts(filter='all') {
  const grid = document.getElementById('productGrid');
  grid.innerHTML = '';
  products.filter(p => filter === 'all' || p.cat === filter).forEach(p => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `<img src="${p.img}" alt="${p.name}">
      <h4>${p.name}</h4>
      <p>${p.price} ‡∏ö‡∏≤‡∏ó</p>
      <button onclick="addToCart(${p.id})">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>`;
    grid.appendChild(div);
  });
}

function showCategory(cat) {
  renderProducts(cat);
}

function addToCart(id) {
  if (!user) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'); return; }
  const item = products.find(p => p.id === id);
  cart.push(item);
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
}

function updateCartCount() {
  document.getElementById('cartCount').innerText = cart.length;
}

function toggleCart() {
  const panel = document.getElementById('cartPanel');
  panel.style.display = (panel.style.display === 'block') ? 'none' : 'block';
  renderCart();
}

function renderCart() {
  const ul = document.getElementById('cartItems');
  ul.innerHTML = '';
  cart.forEach((item, i) => {
    ul.innerHTML += `<li>${item.name} <span>${item.price}‡∏ø <button onclick="removeItem(${i})">x</button></span></li>`;
  });
}

function removeItem(i) {
  cart.splice(i, 1);
  localStorage.setItem('cart', JSON.stringify(cart));
  renderCart();
  updateCartCount();
}

function checkout() {
  const addr = document.getElementById('address').value;
  const pay = document.getElementById('payment').value;
  if (cart.length === 0) { alert('‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á'); return; }
  if (!addr) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà'); return; }
  if (!pay) { alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô'); return; }
  alert('‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞!');
  cart = [];
  localStorage.setItem('cart', '[]');
  updateCartCount();
  document.getElementById('cartPanel').style.display = 'none';
}

document.getElementById('payment').addEventListener('change', function () {
  const val = this.value;
  const extra = document.getElementById('extra');
  if (val === 'promptpay') {
    extra.innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?data=ZenithPay&size=200x200" class="qr">`;
  } else if (val === 'mobile') {
    extra.innerHTML = `<label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£</label><select><option>‡∏Å‡∏£‡∏∏‡∏á‡πÑ‡∏ó‡∏¢</option><option>‡∏Å‡∏™‡∏¥‡∏Å‡∏£</option><option>‡πÑ‡∏ó‡∏¢‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå</option><option>‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û</option></select><p>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ Zenith Shop 123-456-7890</p>`;
  } else {
    extra.innerHTML = '';
  }
});

function openModal() {
  document.getElementById('modal').style.display = 'flex';
}

function closeModal() {
  document.getElementById('modal').style.display = 'none';
}

window.onclick = function (e) {
  if (e.target == document.getElementById('modal')) {
    closeModal();
  }
}

function login() {
  const u = document.getElementById('user').value;
  const p = document.getElementById('pass').value;
  const stored = JSON.parse(localStorage.getItem('accounts') || '{}');
  if (stored[u] === p) {
    user = u;
    localStorage.setItem('user', u);
    updateUser();
    closeModal();
  } else {
    alert('‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
  }
}

function register() {
  const u = document.getElementById('user').value;
  const p = document.getElementById('pass').value;
  if (!u || !p) {
    alert('‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö');
    return;
  }
  const stored = JSON.parse(localStorage.getItem('accounts') || '{}');
  if (stored[u]) {
    alert('‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß');
    return;
  }
  stored[u] = p;
  localStorage.setItem('accounts', JSON.stringify(stored));
  alert('‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô');
}

function updateUser() {
  const span = document.getElementById('usernameDisplay');
  if (user) {
    span.innerText = `üë§ ${user}`;
  } else {
    span.innerText = '';
  }
}

updateUser();
</script>

</body>
</html>
